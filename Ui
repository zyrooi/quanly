local UILib = {}

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

function UILib:CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ExtremeUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = PlayerGui

    local Main = Instance.new("Frame")
    Main.Size = UDim2.new(0, 600, 0, 280)
    Main.Position = UDim2.new(0.5, -300, 0.5, -140)
    Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Main.BorderSizePixel = 0
    Main.Parent = ScreenGui
    Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 12)

    local Top = Instance.new("TextLabel")
    Top.Size = UDim2.new(1, 0, 0, 40)
    Top.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Top.BorderSizePixel = 0
    Top.Text = title or "UI"
    Top.Font = Enum.Font.GothamBold
    Top.TextSize = 20
    Top.TextColor3 = Color3.fromRGB(255, 255, 255)
    Top.Parent = Main
    Instance.new("UICorner", Top).CornerRadius = UDim.new(0, 12)

    local TabsScroll = Instance.new("ScrollingFrame")
    TabsScroll.Size = UDim2.new(1, -20, 0, 40)
    TabsScroll.Position = UDim2.new(0, 10, 0, 45)
    TabsScroll.BackgroundTransparency = 1
    TabsScroll.ScrollBarThickness = 0
    TabsScroll.ScrollingDirection = Enum.ScrollingDirection.X
    TabsScroll.AutomaticCanvasSize = Enum.AutomaticSize.X
    TabsScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabsScroll.Parent = Main

    local TabsLayout = Instance.new("UIListLayout")
    TabsLayout.FillDirection = Enum.FillDirection.Horizontal
    TabsLayout.Padding = UDim.new(0, 8)
    TabsLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabsLayout.Parent = TabsScroll

    local Pages = Instance.new("ScrollingFrame")
    Pages.Size = UDim2.new(1, -20, 1, -95)
    Pages.Position = UDim2.new(0, 10, 0, 90)
    Pages.BackgroundTransparency = 1
    Pages.ScrollBarThickness = 4
    Pages.ScrollingDirection = Enum.ScrollingDirection.Y
    Pages.AutomaticCanvasSize = Enum.AutomaticSize.Y
    Pages.CanvasSize = UDim2.new(0, 0, 0, 0)
    Pages.Parent = Main

    local CloseButton = Instance.new("ImageButton")
    CloseButton.Size = UDim2.new(0, 55, 0, 55)
    CloseButton.Position = UDim2.new(0, 10, 0, 10) -- Đúng vị trí bạn yêu cầu
    CloseButton.Image = "rbxthumb://type=Asset&id=91683227610697&w=420&h=420"
    CloseButton.BackgroundTransparency = 1
    Instance.new("UICorner", CloseButton).CornerRadius = UDim.new(0, 8)
    CloseButton.Parent = Main

    local UIVisible = true

    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui.Enabled = not UIVisible
        UIVisible = not UIVisible
    end)

    return UILib
end

return UILib
